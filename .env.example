# ==============================================
# AI Code Review Bot - Environment Configuration
# ==============================================
# Copy this file to .env and fill in your values
# IMPORTANT: Never commit .env to version control!

# ----------------------------------------------
# AI Provider API Keys (REQUIRED)
# ----------------------------------------------
# OpenAI API Key - Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Claude API Key (Optional) - Get from: https://console.anthropic.com/
CLAUDE_API_KEY=

# Google AI API Key (Optional) - Get from: https://makersuite.google.com/app/apikey
GOOGLE_AI_KEY=

# Azure OpenAI (Optional)
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_ENDPOINT=

# DeepSeek API Key (Optional)
DEEPSEEK_API_KEY=

# ----------------------------------------------
# Security & Authentication (REQUIRED)
# ----------------------------------------------
# JWT Secret - Minimum 32 characters
# Generate with: python -c 'import secrets; print(secrets.token_hex(32))'
JWT_SECRET=your-jwt-secret-key-at-least-32-characters-long-please-change-this

# Database Password
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(16))'
DB_PASSWORD=your-secure-database-password-here

# Redis Password (Optional but recommended)
REDIS_PASSWORD=

# ----------------------------------------------
# Database Configuration
# ----------------------------------------------
DATABASE_URL=postgresql://postgres:${DB_PASSWORD}@postgres:5432/review_bot
REDIS_URL=redis://redis:6379

# Database Pool Settings
SQLALCHEMY_POOL_SIZE=20
SQLALCHEMY_MAX_OVERFLOW=40

# ----------------------------------------------
# GitHub Integration
# ----------------------------------------------
# GitHub Personal Access Token - Get from: https://github.com/settings/tokens
GITHUB_TOKEN=

# GitHub Webhook Secret
GITHUB_WEBHOOK_SECRET=

# GitHub App Settings (if using GitHub App instead of PAT)
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=
GITHUB_APP_INSTALLATION_ID=

# ----------------------------------------------
# GitLab Integration (Optional)
# ----------------------------------------------
GITLAB_TOKEN=
GITLAB_WEBHOOK_SECRET=

# ----------------------------------------------
# Bitbucket Integration (Optional)
# ----------------------------------------------
BITBUCKET_TOKEN=
BITBUCKET_WEBHOOK_SECRET=

# ----------------------------------------------
# Azure DevOps Integration (Optional)
# ----------------------------------------------
AZURE_DEVOPS_TOKEN=
AZURE_DEVOPS_ORG=

# ----------------------------------------------
# Feature Flags
# ----------------------------------------------
# Enable/disable features
ENABLE_AUTO_FIX=true
ENABLE_TEST_GENERATION=true
ENABLE_COMPLIANCE_CHECKS=true
ENABLE_DOCUMENTATION_GEN=true
ENABLE_PERFORMANCE_PROFILING=true
ENABLE_SEMANTIC_SEARCH=true
ENABLE_INTERACTIVE_CHAT=true

# ----------------------------------------------
# Application Settings
# ----------------------------------------------
# Environment: development, staging, production
ENVIRONMENT=development

# Debug mode (set to false in production)
DEBUG=false

# Number of worker processes
WORKERS=4

# API Port
PORT=8080

# Max concurrent OpenAI requests
OPENAI_CONCURRENCY_LIMIT=4

# Request timeout (ms)
OPENAI_TIMEOUT_MS=60000

# Max retries for failed requests
OPENAI_RETRIES=3

# OpenAI Model Selection
OPENAI_MODEL=gpt-4
OPENAI_MODEL_TEMPERATURE=0.2

# Max files to review per PR
MAX_FILES=60

# Max tokens for extra content
MAX_TOKENS_FOR_EXTRA_CONTENT=4000

# ----------------------------------------------
# Review Behavior
# ----------------------------------------------
# Comment on LGTM (looks good to me) reviews
REVIEW_COMMENT_LGTM=false

# Path filters (comma-separated glob patterns)
PATH_FILTERS=**/*.py,**/*.js,**/*.java,**/*.ts,**/*.go

# Exclude patterns
EXCLUDE_PATTERNS=**/node_modules/**,**/dist/**,**/build/**,**/__pycache__/**,**/.git/**

# ----------------------------------------------
# Compliance Standards
# ----------------------------------------------
# Comma-separated list of standards to check
COMPLIANCE_STANDARDS=SOC2,HIPAA,PCI_DSS,GDPR

# Severity thresholds
SEVERITY_THRESHOLD_CRITICAL=0.9
SEVERITY_THRESHOLD_HIGH=0.7
SEVERITY_THRESHOLD_MEDIUM=0.5

# ----------------------------------------------
# Caching Configuration
# ----------------------------------------------
# Cache TTL in seconds (1 hour = 3600)
CACHE_TTL=3600

# Enable Redis caching
ENABLE_REDIS_CACHE=true

# Cache key prefix
CACHE_KEY_PREFIX=ai_review:

# ----------------------------------------------
# Logging Configuration
# ----------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json, text
LOG_FORMAT=json

# Log file rotation
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# ----------------------------------------------
# Monitoring & Observability
# ----------------------------------------------
# Sentry DSN for error tracking
SENTRY_DSN=

# Sentry Environment
SENTRY_ENVIRONMENT=production

# Sentry Sample Rate (0.0 to 1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus metrics enabled
PROMETHEUS_ENABLED=true

# Grafana Admin Credentials
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# ----------------------------------------------
# Email Notifications (Optional)
# ----------------------------------------------
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@example.com
SMTP_USE_TLS=true

# ----------------------------------------------
# Slack Integration (Optional)
# ----------------------------------------------
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#code-reviews
SLACK_BOT_TOKEN=

# ----------------------------------------------
# Teams Integration (Optional)
# ----------------------------------------------
TEAMS_WEBHOOK_URL=

# ----------------------------------------------
# Rate Limiting
# ----------------------------------------------
# Requests per minute per user
RATE_LIMIT_PER_USER=60

# Requests per minute per IP
RATE_LIMIT_PER_IP=100

# Rate limit window (seconds)
RATE_LIMIT_WINDOW=60

# ----------------------------------------------
# Security Scanning
# ----------------------------------------------
# Enable security scanners
ENABLE_BANDIT=true
ENABLE_SEMGREP=true
ENABLE_SECRET_DETECTION=true
ENABLE_DEPENDENCY_SCAN=true

# Semgrep rules
SEMGREP_RULES=p/security-audit,p/owasp-top-ten

# ----------------------------------------------
# Model Fine-tuning (Advanced)
# ----------------------------------------------
# Enable model fine-tuning
ENABLE_FINE_TUNING=false

# Training data collection
COLLECT_TRAINING_DATA=false

# Minimum feedback count before fine-tuning
MIN_FEEDBACK_COUNT=100

# ----------------------------------------------
# Storage Configuration
# ----------------------------------------------
# Data directory
DATA_DIR=/app/data

# Logs directory
LOGS_DIR=/app/logs

# Config directory
CONFIG_DIR=/app/config

# Temporary files directory
TEMP_DIR=/tmp/ai_review

# ----------------------------------------------
# Backup Configuration
# ----------------------------------------------
# Enable automatic backups
ENABLE_BACKUPS=true

# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Backup retention days
BACKUP_RETENTION_DAYS=30

# Backup destination
BACKUP_DIR=/app/backups

# ----------------------------------------------
# Performance Settings
# ----------------------------------------------
# Connection pool size
DB_POOL_SIZE=20

# Connection pool timeout
DB_POOL_TIMEOUT=30

# Statement timeout (seconds)
DB_STATEMENT_TIMEOUT=60

# Redis connection pool size
REDIS_POOL_SIZE=10

# Max connection age (seconds)
REDIS_MAX_CONNECTION_AGE=300

# ----------------------------------------------
# Advanced Features
# ----------------------------------------------
# Enable experimental features
ENABLE_EXPERIMENTAL_FEATURES=false

# AI model temperature (0.0 to 1.0)
AI_TEMPERATURE=0.2

# Max tokens per request
MAX_TOKENS=2000

# Enable streaming responses
ENABLE_STREAMING=false

# Custom rules file
CUSTOM_RULES_FILE=config/custom_rules.yaml

# Knowledge base file
KNOWLEDGE_BASE_FILE=data/team_knowledge.json

# ----------------------------------------------
# Multi-tenancy (Enterprise)
# ----------------------------------------------
# Enable multi-tenancy
ENABLE_MULTI_TENANCY=false

# Default tenant ID
DEFAULT_TENANT_ID=default

# Tenant isolation level: strict, standard, relaxed
TENANT_ISOLATION=standard

# ----------------------------------------------
# SSO Configuration (Enterprise)
# ----------------------------------------------
# Enable SAML SSO
ENABLE_SSO=false

# SAML Entity ID
SAML_ENTITY_ID=

# SAML ACS URL
SAML_ACS_URL=

# SAML IDP Entity ID
SAML_IDP_ENTITY_ID=

# SAML IDP SSO URL
SAML_IDP_SSO_URL=

# SAML IDP Certificate
SAML_IDP_CERT=

# ----------------------------------------------
# Webhooks
# ----------------------------------------------
# Webhook secret for incoming requests
WEBHOOK_SECRET=

# Webhook timeout (seconds)
WEBHOOK_TIMEOUT=30

# Max webhook retries
WEBHOOK_MAX_RETRIES=3

# ----------------------------------------------
# Cost Management
# ----------------------------------------------
# Monthly budget limit (USD)
MONTHLY_BUDGET_LIMIT=1000

# Alert threshold (% of budget)
BUDGET_ALERT_THRESHOLD=80

# Cost tracking enabled
ENABLE_COST_TRACKING=true

# ----------------------------------------------
# Development Settings
# ----------------------------------------------
# Hot reload enabled (development only)
HOT_RELOAD=false

# Mock external services (for testing)
MOCK_EXTERNAL_SERVICES=false

# Test mode
TEST_MODE=false

# ----------------------------------------------
# Custom Variables
# ----------------------------------------------
# Add your custom environment variables below
# CUSTOM_VAR_1=value1
# CUSTOM_VAR_2=value2
